_N_E=(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9978],{64063:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!==a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!==a--;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;0!==a--;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}},63596:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return C},default:function(){return I}});var n=r(67294),a=r(64063),i=r.n(a),o=r(85101);var c=r(240),s=r(66354),l=r(57251),u=r(26971),d=r(53611),f=r(37157),g=r(86010),p=r(41664),_=r(18193),v=r.n(_),m=r(11131),y=r.n(m),w=r(86922),b=r.n(w),h=r(26639),k=r(77759),O=r(62476),S=r(8863),E=r(98881),j=n.createElement;const A=()=>{const{0:e,1:t}=(0,n.useState)(!1),{tocEnabled:r}=(0,h.G)({contentSelector:"#toc-target-content",embedContainerSelector:"#toc-embed-here",depth:2,minHeadingsCount:2});return r?j("div",{className:(0,g.Z)(v().toc,{[v().tocOpen]:e})},j("button",{className:v().tocButton,onClick:()=>t(!e)},"\u76ee\u6b21",j(S.Z,{width:12,height:12,className:v().arrowIcon})),e&&j("div",{className:b().transparent,"aria-label":"\u76ee\u6b21\u3092\u9589\u3058\u308b",onClick:()=>t(!1)}),j("div",{onClick:()=>t(!1),className:v().tocContainer},j(k.G,{id:"toc-embed-here"}))):null},N=(0,n.memo)((e=>{const{article:t,user:r,visible:n}=e,a=(0,E.zH)({username:r.username});return j("aside",{className:v().container},j("div",{className:y().wide},j("div",{className:v().inner},j(p.default,{href:a,passHref:!0,prefetch:!1},j("a",{className:v().avatarLink},j("img",{src:r.avatarUrl,alt:r.name,width:28,height:28,className:"avatar",referrerPolicy:"no-referrer"}))),j("div",{className:v().title},j(p.default,{href:a,passHref:!0,prefetch:!1},j("a",null,r.username)),j("span",{className:v().separator},"/"),t.title),j("div",{className:v().actions},j(O.v,{likableType:"Article",likableId:t.id}),n&&j(A,null)))))}));var H=r(37106),P=n.createElement;const T=({article:e})=>((0,c.ev)({likableType:"Article",likableId:e.id,initialLikedCount:e.likedCount}),null);var C=!0,I=e=>{var t;const{slug:r}=e,{currentUser:a}=(0,o.x)(),{width:c}=function(){const{0:e,1:t}=(0,n.useState)(window.innerWidth);return(0,n.useEffect)((()=>{const e=()=>{t(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),{width:e}}(),g=void 0===c?void 0:c>=992,{0:p,1:_}=(0,n.useState)(!1),{0:v,1:m}=(0,n.useState)(e.article),y=null===v||void 0===v?void 0:v.user,w=null===v||void 0===v?void 0:v.topics,b=!((null===a||void 0===a?void 0:a.username)!==e.username);(0,s.U)({gaTrackingId:null===y||void 0===y?void 0:y.gaTrackingId});const h=!!(b||null!==(t=e.error)&&void 0!==t&&t.status);var k,O;return(0,n.useEffect)((()=>{h&&async function(){if(p)return;try{const e=await(0,H.fq)({slug:r});i()(e.article,v)||m(e.article)}catch(e){console.log(e)}finally{console.log("revalidated."),_(!0)}}()}),[h]),v&&y?P(n.Fragment,null,P(N,{article:v,user:y,visible:!1===g}),P("article",{style:{background:"var(--c-primary-bg)"}},P(u.K,{article:v,isMine:b}),P(d.x,{article:v,user:y,topics:w,isSidebar:g})),P(f.I,{title:v.title,disableTitleTemplate:!0,path:(0,E.G3)({slug:r,username:y.username}),canonicalPath:!0,ogImageUrl:v.ogImageUrl,zennCardImageUrl:y.avatarUrl,zennCardDescription:`${y.name}\u3055\u3093\u306b\u3088\u308b\u8a18\u4e8b`}),P(T,{article:v})):P(l.default,{statusCode:null===(k=e.error)||void 0===k?void 0:k.status,message:null===(O=e.error)||void 0===O?void 0:O.message})}},66354:function(e,t,r){"use strict";r.d(t,{d:function(){return l},U:function(){return u}});var n=r(96156),a=r(11163),i=r(67294);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const c="UA-150402597-2";function s(e,t){if(!t)return void window.gtag("config",c,{page_path:e});const r={};t.slug&&(r.dimension1=t.slug),t.username&&(r.content_group1=t.username),t.contentType&&(r.content_group2=t.contentType),window.gtag("config",c,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({page_path:e},r))}function l(e){const{asPath:t,pathname:r,query:n}=e;(0,i.useEffect)((()=>{r.includes("/[username]/articles/[slug]")?s(t,{contentType:"article",slug:n.slug,username:n.username}):r.includes("/[username]/books/[slug]")?s(t,{contentType:"book",slug:n.slug,username:n.username}):r.includes("/[username]/scraps/[slug]")?s(t,{contentType:"scrap",slug:n.slug,username:n.username}):r.includes("[username]")?s(t,{username:n.username}):s(t)}),[t])}function u({gaTrackingId:e}){const{asPath:t}=(0,a.useRouter)();(0,i.useEffect)((()=>{if(e&&t)return setTimeout((()=>{window[`ga-disable-${e}`]=!1,window.gtag("config",e,{send_page_view:!1}),window.gtag("event","page_view",{page_path:t,send_to:e}),console.log(`Track PV: "${t}" for ${e}`)}),500),()=>{window[`ga-disable-${e}`]=!0}}),[t,e])}},24352:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[username]/articles/[slug]",function(){return r(63596)}])},18193:function(e){e.exports={container:"ArticleStickyHeader_container__TAiip",inner:"ArticleStickyHeader_inner__1gz4L",avatarLink:"ArticleStickyHeader_avatarLink__1v0r3",title:"ArticleStickyHeader_title__2Xwhi",separator:"ArticleStickyHeader_separator__1YXiE",actions:"ArticleStickyHeader_actions__-29H9",toc:"ArticleStickyHeader_toc__bksoA",tocOpen:"ArticleStickyHeader_tocOpen__3va6F",tocContainer:"ArticleStickyHeader_tocContainer__ghvAl",arrowIcon:"ArticleStickyHeader_arrowIcon__9BH6B",tocButton:"ArticleStickyHeader_tocButton__WwhEn"}},86922:function(e){e.exports={transparent:"fullscreen_transparent__-sKBv",darker:"fullscreen_darker__1qG6Z fullscreen_transparent__-sKBv",dark:"fullscreen_dark__1_ldG fullscreen_transparent__-sKBv"}},8863:function(e,t,r){"use strict";var n=r(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Z=({styles:e={},...t})=>n.createElement("svg",a({viewBox:"0 0 27 27"},t),n.createElement("path",{fill:"currentColor",d:"M12.74 20.53l-9.26-9.18a.75.75 0 010-1.07l1.23-1.23a.75.75 0 011.07 0l7.49 7.41 7.49-7.41a.74.74 0 011.06 0l1.24 1.23a.77.77 0 010 1.07l-9.26 9.18a.74.74 0 01-1.06 0z"}))}},0,[[24352,2272,9774,9970,4078,6422,5825,3441,6874,9033,8210]]]);